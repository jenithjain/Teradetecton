# Core runtime
python>=3.8
streamlit>=1.20.0

# Scientific / imaging
numpy>=1.23.0
matplotlib>=3.6.0
opencv-python-headless>=4.7.0  # headless works better on servers without GUI
Pillow>=9.0.0
scikit-image>=0.19.0
scikit-learn>=1.0.0

# Optional ML (install only if you use GPU/torch models)
torch>=1.12.0; platform_system != 'Windows'  # on Windows, choose a CUDA build manually if needed
torchvision>=0.13.0; platform_system != 'Windows'

# Geospatial / mapping (optional, some packages may require system deps)
folium>=0.13.0
geopandas>=0.12.0
rasterio>=1.3.0 ; python_version >= '3.8'
shapely>=2.0.0

# Utilities
pandas>=1.4.0
geopy>=2.3.0

# API / serving
fastapi>=0.95.0
uvicorn>=0.18.0
python-multipart>=0.0.6

# Templates / async file serving
jinja2>=3.1.2
aiofiles>=23.1.0

# Google Generative AI (Gemini) client
google-generativeai>=0.2.0

# Extras: install only if using Folium/interactive map features
branca>=0.6.0

# Pin streamlit-compatible versions
watchdog>=2.1.0

# Note: some packages (rasterio, geopandas, shapely, torch) may need system libraries
# when deploying to Streamlit Cloud or other hosts. If deploying on Streamlit Cloud, the
# platform will attempt to install these from PyPI but you may need to remove heavy
# geospatial packages if installation fails. Use minimal requirements for initial deploy.

# Minimal extras for initial deploy (uncomment if deploy fails because of heavy deps)
# remove-heavy-deps.txt approach: keep a lightweight file with only the essentials:
#   streamlit
#   numpy
#   matplotlib
#   opencv-python-headless